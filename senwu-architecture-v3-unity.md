# æ£®å±‹æ¸¸æˆæ¶æ„è®¾è®¡ v3.0

> Unity 2Då¼•æ“ - ä¸»è§’å§‹ç»ˆæ˜¯é£ŸæŒ‡å¤§å°ï¼Œåœ¨æ­£å¸¸ä¸–ç•Œé‡Œæ¢é™©

---

## ğŸ¯ æ ¸å¿ƒè®¾è®¡ç†å¿µ

### 1. æè‡´è‡ªç”±ä¸å½’å±æ„Ÿ
- æ— ç¡¬æ€§æ—¶é—´é™åˆ¶
- "é‡å¯äººç”Ÿ"å™äº‹ï¼ˆæ‰“å·¥äºº â†’ å°äººå„¿æ¢é™©å®¶ï¼‰
- æ·±åº¦å½’å±æ„Ÿï¼ˆç¤¾åŒº + å·¨äººä¸–ç•Œï¼‰

### 2. "è½»åº¦ä¸Šç˜¾"çš„æ¸¸æˆå¾ªç¯
- å·¥ä½œ-å¥–åŠ±æœºåˆ¶ï¼ˆå¤šå±‚åé¦ˆï¼‰
- ç›®æ ‡ç³»ç»Ÿï¼ˆç¤¾åŒºä¸­å¿ƒ + å·¨äººä¸–ç•Œæ¢ç´¢ï¼‰

### 3. ä¸°å¯Œçš„å†…æ¶µä¸éšè—æ·±åº¦
- è¡¨é¢ç§ç”° + å†…æ ¸RPG
- NPCæ˜¯å·¨äººï¼ˆæ­£å¸¸å¤§å°ï¼‰
- éšè—å¯¹è¯ã€å½©è›‹ã€å·¨äººå¤§ä¸–ç•Œ

### 4. æƒ…æ„Ÿæ²»æ„ˆä¸å¿ƒç†æ…°è—‰
- æœ‰åºå¯æ§çš„ä¸–ç•Œï¼ˆå­£èŠ‚ã€è§„å¾‹ï¼‰
- åŒ…å®¹ä¸æ¥çº³ï¼ˆå¤šå…³ç³»çº¿ã€å©šå§»é€‰æ‹©ï¼‰
- ä½å‹åŠ›é™ªä¼´

### 5. å°äººå„¿æ¢é™©ï¼ˆæ ¸å¿ƒåˆ›æ–°ï¼‰
- ä¸»è§’å§‹ç»ˆæ˜¯**é£ŸæŒ‡å¤§å°**
- ä¸–ç•Œæ˜¯**æ­£å¸¸å¤§å°**
- **1:1 æ¯”ä¾‹**ï¼ˆä¸»è§’1 = ä¸–ç•Œ100ï¼‰
- **ä¸»è§’è§†è§’**ï¼ˆå®Œå…¨æ²‰æµ¸å¼ï¼‰
- æ¢ç´¢å·¨äººä¸–ç•Œçš„ç§˜å¯†

---

## ğŸŒ ä¸–ç•Œè®¾å®š

### 5.1 ä¸»è§’å¤§å°
```
ä¸»è§’å¤§å° = é£ŸæŒ‡å¤§å°
â”œâ”€ çœŸå®æ¯”ä¾‹ï¼šçº¦ 2cm
â”œâ”€ åœ¨æ¸¸æˆä¸­ï¼šå§‹ç»ˆå¦‚æ­¤
â”œâ”€ è§†è§’ï¼šç¬¬ä¸€äººç§°ï¼ˆä¸»è§’è§†è§’ï¼‰
â””â”€â”€ ä½“éªŒï¼šåƒç©çœŸäººç‰ˆã€Šå¡å°”è¾¾ï¼šè’é‡ä¹‹æ¯ã€‹å°äººæ¨¡å¼
```

---

### 5.2 ä¸–ç•Œæ¯”ä¾‹
```
ä¸–ç•Œå¤§å° = æ­£å¸¸äººç±»ä¸–ç•Œå¤§å°
â”œâ”€ åœ°å›¾æ¯”ä¾‹ï¼š1:1
â”œâ”€ ç©å®¶å¤§å°ï¼š1
â”œâ”€â”€ ä¸–ç•Œå¤§å°ï¼š100ï¼ˆå¤¸å¼ æ¯”ä¾‹ï¼‰
â””â”€â”€ è§†è§’ï¼šå®Œå…¨æ²‰æµ¸å¼

æ¯”ä¾‹å…³ç³»ï¼š
â”œâ”€ ç©å®¶ï¼šé£ŸæŒ‡å¤§å°
â”œâ”€â”€ æ ‘æœ¨ï¼šå·¨äººï¼ˆç©å®¶å¯ä»¥çˆ¬ä¸Šå»ï¼‰
â”œâ”€â”€ æˆ¿å­ï¼šå·¨äººå®«æ®¿
â”œâ”€â”€ NPCï¼šå·¨äººï¼ˆæ­£å¸¸å¤§å°ï¼‰
â””â”€â”€ å·¥å…·ï¼šå·¨äººå·¥å…·
```

---

### 5.3 ä¸–ç•Œåœ°å›¾
```
å·¨äººä¸–ç•Œåœ°å›¾ï¼ˆæ­£å¸¸å¤§å°ï¼‰
â”œâ”€ çœ å±±æ‘åº„ï¼ˆä¸»åŸºåœ°ï¼‰
â”‚  â”œâ”€ ç©å®¶çš„å°å±‹ï¼ˆé£ŸæŒ‡å¤§å°ï¼Œåœ¨è°·ä»“é‡Œï¼‰
â”‚  â”œâ”€ å°é•‡å¹¿åœºï¼ˆå¯ä»¥çœ‹åˆ°è¿œå¤„çš„å·¨äººNPCï¼‰
â”‚  â”œâ”€ å•†åº—åŒºï¼ˆå·¨å¤§çš„å•†åº—ï¼‰
â”‚  â”œâ”€ ç¤¾åŒºä¸­å¿ƒï¼ˆå·¨å‹å»ºç­‘ï¼‰
â”‚  â””â”€â”€ å…¬å›­ï¼ˆå·¨å‹èŠ±å›­ï¼‰
â”‚
â”œâ”€ è‡ªç„¶åŒºåŸŸ
â”‚  â”œâ”€ å·¨å¤§çš„æ£®æ—ï¼ˆç©å®¶å¯ä»¥çˆ¬æ ‘ï¼‰
â”‚  â”œâ”€ å·¨å¤§çš„å±±è„‰ï¼ˆæŒ–çŸ¿ï¼‰
â”‚  â”œâ”€ å·¨å¤§çš„æ¹–æ³Šï¼ˆé’“é±¼ï¼‰
â”‚  â”œâ”€ å·¨å¤§çš„æ²™æ¼ ï¼ˆéšè—å®è—ï¼‰
â”‚  â””â”€â”€ å·¨å¤§çš„æ²¼æ³½ï¼ˆç¨€æœ‰èµ„æºï¼‰
â”‚
â”œâ”€ å·¨å¤§çš„åŸå¸‚åŒºåŸŸ
â”‚  â”œâ”€ éƒ½å¸‚ï¼ˆç©å®¶åˆå§‹èŒä¸šåœ°ï¼‰
â”‚  â”œâ”€ é«˜æ¥¼å¤§å¦
â”‚  â””â”€â”€ è½¦ç«™ï¼ˆå‰å¾€ç²¾çµä¸–ç•Œï¼‰
â”‚
â”œâ”€ ç²¾çµä¸–ç•Œï¼ˆç­‰æ¯”å¤§å°ï¼Œä½†ç²¾çµ=é£ŸæŒ‡å¤§å°ï¼‰
â”‚  â””â”€â”€ ç²¾çµNPCä¹Ÿæ˜¯é£ŸæŒ‡å¤§å°ï¼Œä½†èƒ½çœ‹åˆ°æ‰€æœ‰ç»†èŠ‚
â”‚
â””â”€ éšè—åŒºåŸŸ
   â”œâ”€ åœ°ä¸‹å·¨æ´
   â”œâ”€ å¥³å·«ç§˜å¯†èŠ±å›­
   â””â”€â”€ å·¨äººçš„ç§˜å¯†
```

**å…³é”®ç‰¹ç‚¹ï¼š**
- ğŸŒ² **æ ‘æœ¨å·¨å¤§** - ç©å®¶å¯ä»¥çˆ¬ä¸Šå»
- ğŸ  **å»ºç­‘å·¨å¤§** - åƒå·¨äººå®«æ®¿
- ğŸ‘¥ **NPCå·¨å¤§** - æ­£å¸¸å¤§å°ï¼Œæ­£å¸¸æ¯”ä¾‹
- ğŸ’ **ç‰©å“å·¨å¤§** - å·¨å¤§çš„å·¥å…·å’Œå®ç®±
- ğŸ—ºï¸ **åœ°å›¾å¹¿é˜”** - æ¢ç´¢æ„Ÿå¼ºçƒˆ

---

## ğŸ® ä¸»è§’è®¾å®š

### 6.1 èŒä¸šç³»ç»Ÿï¼ˆå¼€å±€ï¼‰
```
èŒä¸šé€‰æ‹©
â”œâ”€ åŠå…¬å®¤èŒå‘˜ï¼ˆé»˜è®¤ï¼‰
â”‚  â”œâ”€ åˆå§‹æŠ€èƒ½ï¼šå·¥ä½œæ•ˆç‡
â”‚  â”œâ”€ åˆå§‹è£…å¤‡ï¼šå·¨äººåŠå…¬å®¤å®¶å…·
â”‚  â””â”€â”€ èƒŒæ™¯æ•…äº‹ï¼šé€ƒç¦»é«˜å‹å·¥ä½œï¼Œå˜æˆå°äººå„¿
â”‚
â”œâ”€ é€€ä¼‘è€äºº
â”‚  â”œâ”€ åˆå§‹æŠ€èƒ½ï¼šé’“é±¼ã€å›­è‰º
â”‚  â”œâ”€ åˆå§‹è£…å¤‡ï¼šè€å¼å·¥å…·
â”‚  â””â”€â”€ èƒŒæ™¯æ•…äº‹ï¼šå¯»æ‰¾é€€ä¼‘ç”Ÿæ´»
â”‚
â”œâ”€ å·¥åŒ å­¦å¾’
â”‚  â”œâ”€ åˆå§‹æŠ€èƒ½ï¼šé”»é€ ã€ä¿®ç†
â”‚  â”œâ”€ åˆå§‹è£…å¤‡ï¼šå­¦å¾’å·¥å…·
â”‚  â””â”€â”€ èƒŒæ™¯æ•…äº‹ï¼šè¿½å¯»å·¥åŒ æ¢¦æƒ³
â”‚
â””â”€ é’å¹´å†’é™©å®¶
   â”œâ”€ åˆå§‹æŠ€èƒ½ï¼šé‡‡é›†ã€æ¢é™©
   â”œâ”€ åˆå§‹è£…å¤‡ï¼šæ¢é™©è£…å¤‡
   â””â”€â”€ èƒŒæ™¯æ•…äº‹ï¼šå¯»æ‰¾ç¥ç§˜çº¿ç´¢
```

**èŒä¸šå½±å“ï¼š**
- ğŸ­ åˆå§‹å±æ€§åŠ ç‚¹
- ğŸ› ï¸ åˆå§‹å·¥å…·ç†Ÿç»ƒåº¦
- ğŸ“– åˆå§‹å¯¹è¯é€‰é¡¹
- ğŸ¯ åˆå§‹ä»»åŠ¡çº¿

---

### 6.2 å°äººå„¿ç‰¹ç‚¹
```
ä¸»è§’èƒ½åŠ›
â”œâ”€ ä½“å‹ä¼˜åŠ¿
â”‚  â”œâ”€ å¯ä»¥çˆ¬æ ‘ã€çˆ¬å¢™
â”‚  â”œâ”€ å¯ä»¥é’»å°æ´ã€ç¼éš™
â”‚  â”œâ”€ å¯ä»¥è—åœ¨å¤§æ ‘ã€ç®±å­åé¢
â”‚  â””â”€â”€ å¯ä»¥è·³åˆ°å·¨äººè‚©è†€ä¸Š
â”‚
â”œâ”€ éšè—èƒ½åŠ›
â”‚  â”œâ”€ å¬åˆ°å·¨äººä½è¯­
â”‚  â”œâ”€ å‘ç°å·¨äººçœ‹ä¸è§çš„ä¸œè¥¿
â”‚  â””â”€â”€ è¿›å…¥å·¨äººçœ‹ä¸åˆ°çš„åœ°æ–¹
â”‚
â””â”€â”€ é™åˆ¶
   â”œâ”€ å®¹æ˜“è¢«å·¨äººè¸©åˆ°
   â”œâ”€ éš¾ä»¥ä¸å·¨äººæ­£å¸¸äº¤æµ
   â””â”€â”€ éœ€è¦ç‰¹æ®Šæ–¹å¼æ²Ÿé€š
```

---

### 6.3 æ²Ÿé€šæ–¹å¼
```
å°äººå„¿æ²Ÿé€šç³»ç»Ÿ
â”œâ”€ æ‰‹åŠ¿è¯­è¨€
â”‚  â”œâ”€ æ‰“æ‹›å‘¼
â”‚  â”œâ”€ ç¤ºæ„å¸®åŠ©
â”‚  â””â”€â”€ æ±‚åŠ©ä¿¡å·
â”‚
â”œâ”€ ç‰©å“äº¤æµ
â”‚  â”œâ”€ é€’é€å°ç¤¼ç‰©
â”‚  â”œâ”€ æŒ‡ç¤ºæ–¹å‘
â”‚  â””â”€â”€ æ’­æ”¾å£°éŸ³
â”‚
â”œâ”€ å·¨äººç‰¹æ®Šè¡Œä¸º
â”‚  â”œâ”€ å·¨äººæ¡èµ·ä½ 
â”‚  â”œâ”€ å·¨äººåä¸‹ï¼ˆå˜æˆé«˜å°ï¼‰
â”‚  â”œâ”€â”€ å·¨äººæ¡èµ·å·¥å…·ï¼ˆå˜æˆå·¨å¤§å·¥å…·ï¼‰
â”‚  â””â”€â”€ å·¨äººæ³¨æ„åˆ°ä½ 
â”‚
â””â”€â”€ å¯¹è¯ç³»ç»Ÿï¼ˆå·¨äººè§†è§’ï¼‰
   â”œâ”€ å·¨äººçœ‹ä¸åˆ°ä½ ï¼Œä½†èƒ½"æ„Ÿåº”"ä½ 
   â”œâ”€ å·¨äººä¼šçœ‹åˆ°ä½ æŒ¥æ‰‹
   â”œâ”€â”€ å·¨äººä¼šåšå‡ºå›åº”
   â””â”€â”€ é—´æ¥äº¤æµ
```

**ä¾‹å­ï¼š**
```
åœºæ™¯ï¼šç©å®¶æƒ³å‘å·¨äººNPCæ±‚åŠ©
æ“ä½œï¼š
1. ç©å®¶çˆ¬åˆ°å·¨äººè„šè¾¹
2. æŒ¥æ‰‹ç¤ºæ„
3. å·¨äººä½ä¸‹å¤´ï¼Œçœ‹åˆ°ä½ 
4. å·¨äººè¯´ï¼š"å“¦ï¼Ÿä½ æ˜¯è°ï¼Ÿ"
5. ç©å®¶é€’ä¸Šä¸€æœµå°é‡èŠ±
6. å·¨äººï¼š"ä½ æƒ³è¦ä»€ä¹ˆï¼Ÿ"

åœºæ™¯ï¼šå·¨äººNPC
1. æ­£å¸¸å¤§å°è¡Œèµ°
2. ç©å®¶åœ¨å·¨äººçš„å½±å­é‡Œ
3. å·¨äººèµ°è¿‡ï¼Œç©å®¶éœ€è¦èº²é¿
4. å·¨äººåœä¸‹ï¼Œä½å¤´çœ‹åˆ°ä½ 
5. å·¨äººé—®ï¼š"ä½ æ˜¯è°ï¼Ÿä»å“ªæ¥çš„ï¼Ÿ"
6. ç©å®¶é€’ä¸Šå·¥å…·
7. å·¨äººï¼š"ä½ æƒ³è¦è¿™ä¸ªå·¥å…·ï¼Ÿ"
```

---

## ğŸ¡ çœ å±±æ‘åº„ï¼ˆå·¨äººä¸–ç•Œï¼‰

### 7.1 ç©å®¶çš„å°å±‹
```
ç©å®¶åˆå§‹ä½æ‰€
â”œâ”€ ä½ç½®ï¼šè°·ä»“å†…éƒ¨
â”‚  â”œâ”€ è°·ä»“æ˜¯å·¨äººçš„ä»“åº“
â”‚  â”œâ”€ ç©å®¶çš„å°å±‹åœ¨è§’è½
â”‚  â””â”€â”€ ç©å®¶é€šè¿‡å°é—¨è¿›å…¥
â”‚
â”œâ”€ æˆ¿é—´å¸ƒå±€
â”‚  â”œâ”€ ç¡è§‰åŒºï¼ˆé£ŸæŒ‡å¤§å°çš„åºŠï¼‰
â”‚  â”œâ”€ å·¥ä½œå°ï¼ˆå·¨äººå·¥å…·ï¼‰
â”‚  â”œâ”€ æ”¶çº³æŸœ
â”‚  â””â”€â”€ å¯¹è¯æ¡†ï¼ˆèƒ½å¬åˆ°å·¨äººå¯¹è¯ï¼‰
â”‚
â””â”€â”€ è§†è§‰æ•ˆæœ
   â”œâ”€ éœ€è¦ç¼©å°è§†è§’æ‰èƒ½çœ‹åˆ°å†…éƒ¨
   â”œâ”€ ç¦»å¼€è°·ä»“åè§†è§’æ¢å¤æ­£å¸¸
   â””â”€â”€ åœ¨è°·ä»“å†…å¯ä»¥"å¬åˆ°"å·¨äººä¸–ç•Œ
```

---

### 7.2 å°é•‡å¹¿åœº
```
å¹¿åœºï¼ˆå·¨äººè§†è§’ï¼‰
â”œâ”€ å·¨äººNPCä¼šåœ¨å¹¿åœºæ´»åŠ¨
â”œâ”€ ç©å®¶åœ¨è§’è½è§‚å¯Ÿ
â”œâ”€â”€ å¯ä»¥å·å¬å·¨äººå¯¹è¯
â”œâ”€â”€ å¯ä»¥å‘ç°å·¨äººçœ‹ä¸åˆ°çš„ç»†èŠ‚
â””â”€â”€ å·¨äººä¼šå¶å°”æ³¨æ„åˆ°ä½ 
```

**å·å¬å·¨äººå¯¹è¯ï¼š**
```
åœºæ™¯ï¼šç©å®¶åœ¨å¹¿åœºè‰ä¸›é‡Œ
1. å·¨äººNPCAå’Œå·¨äººNPCBåœ¨èŠå¤©
2. ç©å®¶å¯ä»¥å¬åˆ°ä»–ä»¬çš„å¯¹è¯
3. ç©å®¶å¯ä»¥å‘ç°å·¨äººä¸çŸ¥é“çš„äº‹æƒ…
4. å·¨äººçªç„¶è½¬å¤´ï¼š"è°åœ¨é‚£å„¿ï¼Ÿ"
5. ç©å®¶èº²èµ·æ¥
6. å·¨äººèµ°å¼€äº†ï¼š"å¯èƒ½æ˜¯ä¸€åªå°åŠ¨ç‰©"
```

---

### 7.3 ç¤¾åŒºä¸­å¿ƒ
```
ç¤¾åŒºä¸­å¿ƒï¼ˆå·¨å‹å»ºç­‘ï¼‰
â”œâ”€ æ­£é¢ï¼šå·¨å¤§é—¨
â”œâ”€ ä¸»çº¿ä»»åŠ¡ï¼šä¿®å¤ç¤¾åŒºä¸­å¿ƒ
â”œâ”€â”€ æ”¶é›†åŒ…ä»»åŠ¡ï¼ˆéœ€è¦å·¨äººNPCå¸®åŠ©ï¼‰
â””â”€â”€ å·¨äººä¼šæä¾›å¸®åŠ©
```

**ç¤¾åŒºä¸­å¿ƒä»»åŠ¡ï¼š**
```
ä»»åŠ¡ï¼šæ”¶é›†åŒ… - ç¨»è‰äººåŒ…
1. ç©å®¶è¿›å…¥ç¤¾åŒºä¸­å¿ƒ
2. æ‰¾åˆ°å·¨å¤§çš„ç¨»è‰äºº
3. ç©å®¶éœ€è¦å¸®åŠ©ç¨»è‰äºº
4. ç©å®¶çˆ¬åˆ°ç¨»è‰äººè‚©è†€ä¸Š
5. æŒ‰ä¸‹æŒ‰é’®ï¼ˆç¨»è‰äººå¼€å…³ï¼‰
6. ç¨»è‰äººè½¬åŠ¨
7. å·¨äººNPCBèµ°è¿‡æ¥ï¼š"ä½ åœ¨åšä»€ä¹ˆï¼Ÿ"
8. ç©å®¶é€’ä¸Šå·¥å…·
9. å·¨äººï¼š"æˆ‘å¸®ä½ "
```

---

## ğŸŒ² è‡ªç„¶åŒºåŸŸï¼ˆå·¨äººä¸–ç•Œï¼‰

### 8.1 å·¨å¤§çš„æ£®æ—
```
æ£®æ—ï¼ˆå·¨äººä¸–ç•Œï¼‰
â”œâ”€ ç©å®¶å¯ä»¥çˆ¬æ ‘
â”œâ”€â”€ åœ¨æ ‘ä¸Šçœ‹åˆ°å·¨äººä¸–ç•Œå…¨æ™¯
â”œâ”€â”€ å¯ä»¥è—åœ¨å¤§æ ‘åé¢
â””â”€â”€ å‘ç°å·¨äººçš„ç§˜å¯†
```

**åœ¨æ ‘ä¸Šï¼š**
```
1. ç©å®¶çˆ¬åˆ°æ ‘ä¸Š
2. çœ‹åˆ°å·¨äººNPCåœ¨æ ‘ä¸‹èµ°è·¯
3. å·¨äººä¸çŸ¥é“ä½ åœ¨æ ‘ä¸Š
4. å·¨äººAæ¡èµ·å·¥å…·
5. ç©å®¶è·³åˆ°å·¨äººAçš„è‚©è†€ä¸Š
6. ç©å®¶é€’ä¸Šå·¥å…·
7. å·¨äººAï¼š"å“¦ï¼Ÿä½ æƒ³è¦è¿™ä¸ªï¼Ÿ"
8. å·¨äººAæ¡èµ·ç©å®¶ï¼Œæ”¾å›è°·ä»“
9. ç©å®¶è·å¾—å·¥å…·
```

---

### 8.2 å·¨å¤§çš„æ¹–æ³Š
```
æ¹–æ³Šï¼ˆå·¨äººä¸–ç•Œï¼‰
â”œâ”€ å·¨å¤§çš„æ°´é¢
â”œâ”€â”€ é’“é±¼ï¼ˆé’“å·¨äººçš„å®è—ï¼‰
â”œâ”€â”€ å¯ä»¥åœ¨æ¹–é‡Œæ¸¸æ³³
â””â”€â”€ æ•è·å°é±¼ï¼ˆå˜å¤§çš„é£Ÿç”¨ï¼‰
```

**é’“é±¼ï¼š**
```
1. ç©å®¶ç«™åœ¨å²¸è¾¹
2. å·¨å¤§çš„é±¼åœ¨æ°´ä¸­æ¸¸
3. é’“é’©ä¼¸å‡ºå»ï¼ˆå·¨å¤§ï¼‰
4. å·¨å¤§çš„é±¼å’¬é’©
5. å·¨äººNPCCèµ°è¿‡æ¥ï¼š"ä½ çš„é±¼ç«¿ï¼"
6. å·¨äººNPCCå¸®ç©å®¶é’“é±¼
7. å·¨å¤§çš„é±¼è¢«æ‹‰ä¸Šæ¥
8. å·¨äººNPCCï¼š"è¿™é±¼å¾ˆå¤§ï¼Œç»™ä½ "
9. ç©å®¶è·å¾—å·¨é±¼
```

---

### 8.3 å·¨å¤§çš„å±±è„‰
```
å±±è„‰ï¼ˆå·¨äººä¸–ç•Œï¼‰
â”œâ”€ æŒ–çŸ¿ï¼ˆå·¨å‹çŸ¿çŸ³ï¼‰
â”œâ”€â”€ å¯ä»¥çˆ¬ä¸Šå»
â”œâ”€â”€ å‘ç°éšè—æ´ç©´
â””â”€â”€ å·¨äººçš„ç§˜å¯†å®è—
```

---

### 8.4 å·¨å¤§çš„æ²™æ¼ 
```
æ²™æ¼ ï¼ˆå·¨äººä¸–ç•Œï¼‰
â”œâ”€ éšè—å®è—
â”œâ”€â”€ å·¨äººçš„å¤é—è¿¹
â”œâ”€â”€ å¥³å·«ç§˜å¯†èŠ±å›­
â””â”€â”€ ç²¾çµä¸–ç•Œå…¥å£
```

---

## ğŸ‘¥ NPCç³»ç»Ÿï¼ˆå·¨äººä¸–ç•Œï¼‰

### 9.1 å·¨äººNPC
```
NPC = å·¨äººï¼ˆæ­£å¸¸å¤§å°ï¼‰
â”œâ”€ æ­£å¸¸è¡Œèµ°
â”œâ”€â”€ æ­£å¸¸è¯´è¯
â”œâ”€â”€ æ­£å¸¸ç”Ÿæ´»
â””â”€â”€ å¶å°”æ³¨æ„åˆ°ä½ 
```

**NPCè¡Œä¸ºï¼š**
```
æ—¥å¸¸
â”œâ”€ å·¥ä½œæ—¥ï¼šä¸Šç­æ—å·¨äºº
â”œâ”€â”€ å‘¨æœ«ï¼šä¼‘é—²å·¨äºº
â””â”€â”€ èŠ‚æ—¥ï¼šç‰¹æ®Šå·¨äºº

ä¸ç©å®¶äº’åŠ¨
â”œâ”€ å¶å°”ä½å¤´çœ‹åˆ°ä½ 
â”œâ”€â”€ é€’ä¸Šå·¥å…·æˆ–ç‰©å“
â”œâ”€â”€ é—®ä½ æ˜¯è°
â””â”€â”€ ç»™ä½ ä»»åŠ¡

å·å¬å¯¹è¯
â”œâ”€ ç©å®¶å¯ä»¥å¬åˆ°å·¨äººå¯¹è¯
â”œâ”€â”€ å‘ç°å·¨äººçš„ç§˜å¯†
â””â”€â”€ å¯ä»¥å½±å“å·¨äººå¯¹è¯
```

---

### 9.2 å·¨äººNPCè¯¦æƒ…
```
NPC: è‚–æ©ï¼ˆç†å‘å¸ˆï¼‰
â”œâ”€ ä½“å‹ï¼šå·¨äººï¼ˆæ­£å¸¸å¤§å°ï¼‰
â”œâ”€ èŒä¸šï¼šç†å‘å¸ˆ
â”œâ”€â”€ æ€§æ ¼ï¼šå†…å‘
â”œâ”€â”€ å¹´é¾„ï¼š50
â”œâ”€â”€ èƒŒæ™¯æ•…äº‹ï¼šé€€ä¼‘å·¨äººï¼Œåœ¨å°é•‡å¼€ç†å‘åº—
â”œâ”€â”€ æ¯æ—¥æ—¥ç¨‹ï¼š
â”‚  â”œâ”€ æ—©ä¸Šï¼šåœ¨ç†å‘åº—å·¥ä½œ
â”‚  â”œâ”€â”€ ä¸‹åˆï¼šé¡¾å®¢æ¥ç†å‘
â”‚  â””â”€â”€ æ™šä¸Šï¼šå›å®¶ä¼‘æ¯
â”œâ”€â”€ å¯¹è¯ï¼ˆå·¨äººè§†è§’ï¼‰ï¼š
â”‚  â”œâ”€ æ—©ä¸Šï¼š"æ—©ä¸Šå¥½ï¼Œä»Šå¤©æœ‰å®¢äººå—ï¼Ÿ"
â”‚  â”œâ”€â”€ ä¸‹åˆï¼š"ä½ æƒ³ç†å‘å—ï¼Ÿå¾ˆä¾¿å®œ"
â”‚  â””â”€â”€ æ™šä¸Šï¼š"ä»Šæ™šæƒ³å–ä¸€æ¯å—ï¼Ÿ"
â”œâ”€â”€ å·å¬å†…å®¹ï¼š
â”‚  â”œâ”€ å’Œå…¶ä»–å·¨äººè°ˆè®ºå°é•‡
â”‚  â””â”€â”€ è°ˆè®ºç©å®¶ï¼ˆå·¨äººä¸çŸ¥é“ä½ æ˜¯ç©å®¶ï¼‰
â””â”€â”€ ä¸ç©å®¶äº’åŠ¨ï¼š
   â”œâ”€ æœ‰æ—¶ä½å¤´çœ‹åˆ°ä½ 
   â”œâ”€â”€ é€’ä¸Šå·¥å…·
   â””â”€â”€ ç»™ä½ ä»»åŠ¡

NPC: æ½˜å¦®ï¼ˆå›¾ä¹¦ç®¡ç†å‘˜ï¼‰
â”œâ”€ ä½“å‹ï¼šå·¨äººï¼ˆæ­£å¸¸å¤§å°ï¼‰
â”œâ”€â”€ èŒä¸šï¼šå›¾ä¹¦ç®¡ç†å‘˜
â”œâ”€â”€ æ€§æ ¼ï¼šå†…å‘
â”œâ”€â”€ å¹´é¾„ï¼š30
â”œâ”€â”€ èƒŒæ™¯æ•…äº‹ï¼šåœ¨å°é•‡å›¾ä¹¦é¦†å·¥ä½œ
â”œâ”€â”€ æ¯æ—¥æ—¥ç¨‹ï¼š
â”‚  â”œâ”€ æ—©ä¸Šï¼šåœ¨å›¾ä¹¦é¦†
â”‚  â”œâ”€â”€ ä¸‹åˆï¼šæ•´ç†ä¹¦ç±
â”‚  â””â”€â”€ æ™šä¸Šï¼šå›å®¶
â”œâ”€â”€ å¯¹è¯ï¼ˆå·¨äººè§†è§’ï¼‰ï¼š
â”‚  â”œâ”€ æ—©ä¸Šï¼š"æ—©ä¸Šå¥½ï¼Œä»Šå¤©æœ‰æ–°ä¹¦å—ï¼Ÿ"
â”‚  â”œâ”€â”€ ä¸‹åˆï¼š"è¿™é‡Œå¾ˆå®‰é™ï¼Œä½ å–œæ¬¢å—ï¼Ÿ"
â”‚  â””â”€â”€ æ™šä¸Šï¼š"æ™šå®‰"
â”œâ”€â”€ å·å¬å†…å®¹ï¼š
â”‚  â”œâ”€ å’Œå…¶ä»–å·¨äººè°ˆè®ºä¸–ç•Œ
â”‚  â””â”€â”€ è°ˆè®ºæœªçŸ¥çš„äº‹æƒ…
â””â”€â”€ ä¸ç©å®¶äº’åŠ¨ï¼š
   â”œâ”€ å¶å°”çœ‹åˆ°ä½ 
   â”œâ”€â”€ ç»™ä½ ä¹¦ç±
   â””â”€â”€ å¸®ä½ æ‰¾ä¸œè¥¿
```

---

### 9.3 å°äººå„¿ä¸å·¨äººçš„å…³ç³»
```
å…³ç³»ç³»ç»Ÿ
â”œâ”€ å°äººå„¿ä¸å·¨äººçš„å…³ç³»
â”‚  â”œâ”€ å·¨äººä¸çŸ¥é“ä½ æ˜¯è°
â”‚  â”œâ”€â”€ å¶å°”æ³¨æ„åˆ°ä½ 
â”‚  â””â”€â”€ äº’åŠ¨å¾ˆé—´æ¥
â”‚
â”œâ”€ å…³ç³»ç±»å‹
â”‚  â”œâ”€ é‡è§æ¬¡æ•°
â”‚  â”œâ”€â”€ å·¨äººçš„å¥½æ„Ÿåº¦
â”‚  â”œâ”€â”€ å·¨äººæ˜¯å¦å¸®ä½ 
â”‚  â””â”€â”€ å·¨äººæ˜¯å¦è®°å¾—ä½ 
â”‚
â””â”€â”€ ç‰¹æ®Šå…³ç³»
   â”œâ”€ è¢«å·¨äººæ•‘è¿‡
   â”œâ”€â”€ å¸®è¿‡å·¨äºº
   â”œâ”€â”€ å·å¬å·¨äººç§˜å¯†
   â””â”€â”€ æˆä¸º"éšå½¢æœ‹å‹"
```

---

## ğŸ¯ ç›®æ ‡ç³»ç»Ÿ

### 10.1 ç¤¾åŒºä¸­å¿ƒæ”¶é›†åŒ…
```
æ”¶é›†åŒ…ä»»åŠ¡
â”œâ”€ ç¨»è‰äººåŒ…ï¼ˆéœ€è¦å·¨äººNPCå¸®åŠ©ï¼‰
â”œâ”€â”€ é›•åƒåŒ…ï¼ˆéœ€è¦å·¨äººNPCå¸®åŠ©ï¼‰
â”œâ”€â”€ å–·æ³‰åŒ…ï¼ˆéœ€è¦å·¨äººNPCå¸®åŠ©ï¼‰
â””â”€â”€ ä¿®å¤åŒ…ï¼ˆéœ€è¦å·¨äººNPCå¸®åŠ©ï¼‰
```

**ä»»åŠ¡ç¤ºä¾‹ï¼š**
```
ä»»åŠ¡ï¼šä¿®å¤å–·æ³‰
1. ç©å®¶è¿›å…¥ç¤¾åŒºä¸­å¿ƒ
2. å·¨å¤§çš„å–·æ³‰åäº†
3. ç©å®¶éœ€è¦å¸®åŠ©ä¿®å¤
4. ç©å®¶çˆ¬åˆ°å–·æ³‰ä¸Š
5. ç©å®¶æŒ‰ä¸‹æŒ‰é’®
6. å–·æ³‰è½¬åŠ¨
7. å·¨äººNPCDèµ°è¿‡æ¥ï¼š"ä½ åšäº†ä»€ä¹ˆï¼Ÿ"
8. ç©å®¶é€’ä¸Šå·¥å…·
9. å·¨äººNPCDï¼š"æˆ‘æ¥å¸®ä½ "
10. å–·æ³‰ä¿®å¤å®Œæˆ
11. å·¨äººNPCDï¼š"è°¢è°¢ï¼Œç»™è¿™ä¸ªç»™ä½ "
12. ç©å®¶è·å¾—å¥–åŠ±
```

---

### 10.2 å·¨äººä¸–ç•Œæ¢ç´¢
```
æ¢ç´¢ç³»ç»Ÿ
â”œâ”€ åœ°å›¾è§£é”
â”œâ”€â”€ å‘ç°å·¨äººç§˜å¯†
â”œâ”€â”€ æ”¶é›†å·¨äººç‰©å“
â””â”€â”€ å»ºç«‹å…³ç³»
```

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### 11.1 æ ¸å¿ƒè¡¨ç»“æ„

```sql
-- ç©å®¶è¡¨
CREATE TABLE players (
  id VARCHAR(36) PRIMARY KEY,
  username VARCHAR(50),
  profession VARCHAR(50),
  size_scale FLOAT DEFAULT 0.02,  -- é£ŸæŒ‡å¤§å°
  stamina INT DEFAULT 100,
  money INT DEFAULT 1000,
  created_at TIMESTAMP
);

-- æ—¶é—´ç³»ç»Ÿ
CREATE TABLE game_time (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  day INT,
  season VARCHAR(20),
  year INT,
  weather VARCHAR(50),
  last_update TIMESTAMP
);

-- NPCç³»ç»Ÿï¼ˆå·¨äººï¼‰
CREATE TABLE giant_npcs (
  id VARCHAR(36) PRIMARY KEY,
  name VARCHAR(50),
  profession VARCHAR(50),
  personality VARCHAR(50),
  age INT,
  gender VARCHAR(10),
  home_location VARCHAR(100),
  schedule JSON,
  background TEXT,
  dialogue JSON,
  gifts JSON,
  relation_count INT DEFAULT 0  -- è¢«çœ‹è§æ¬¡æ•°
);

-- å…³ç³»ç³»ç»Ÿ
CREATE TABLE player_giant_relations (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  giant_npc_id VARCHAR(36),
  relation_type VARCHAR(50),  -- friend/lover/family
  level INT DEFAULT 0,  -- 0-100
  last_interacted TIMESTAMP,
  helped_by_giant BOOLEAN DEFAULT FALSE,
  helped_player BOOLEAN DEFAULT FALSE,
  special_events JSON
);

-- ç¤¾åŒºä¸­å¿ƒæ”¶é›†åŒ…
CREATE TABLE community_center (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  package_id VARCHAR(36),
  package_type VARCHAR(50),
  package_name VARCHAR(100),
  items_collected JSON,
  completed BOOLEAN DEFAULT FALSE,
  completed_at TIMESTAMP
);

-- çƒ¹é¥ªç³»ç»Ÿ
CREATE TABLE recipes (
  id VARCHAR(36) PRIMARY KEY,
  name VARCHAR(100),
  cuisine_type VARCHAR(50),
  difficulty INT,
  cooking_level_required INT,
  ingredients JSON,
  cooking_time INT,
  dish_effects JSON,
  unlocked BOOLEAN DEFAULT FALSE,
  discoverable BOOLEAN DEFAULT TRUE
);

CREATE TABLE player_recipes (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  recipe_id VARCHAR(36),
  learned BOOLEAN DEFAULT FALSE,
  level INT DEFAULT 1,
  total_cooks INT DEFAULT 0
);

-- å¼€ç½—ç»è¥ç³»ç»Ÿ
CREATE TABLE shops (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  shop_type VARCHAR(50),
  shop_name VARCHAR(100),
  level INT DEFAULT 1,
  upgrade_cost INT DEFAULT 0,
  is_open BOOLEAN DEFAULT FALSE,
  total_customers INT DEFAULT 0,
  total_sales INT DEFAULT 0,
  satisfaction_score INT DEFAULT 50
);

-- æ¢ç´¢ç³»ç»Ÿ
CREATE TABLE exploration_areas (
  id VARCHAR(36) PRIMARY KEY,
  world VARCHAR(20),  -- human/elf
  area_name VARCHAR(100),
  description TEXT,
  unlock_condition JSON,
  is_unlocked BOOLEAN DEFAULT FALSE,
  discovered_items JSON,
  discovered_milestones INT DEFAULT 0
);

-- é­”æ³•ç³»ç»Ÿ
CREATE TABLE magic_system (
  id VARCHAR(36) PRIMARY KEY,
  player_id VARCHAR(36),
  magic_level INT DEFAULT 0,
  spell_unlocks JSON,
  magic_items JSON,
  mana INT DEFAULT 100
);

CREATE TABLE spells (
  id VARCHAR(36) PRIMARY KEY,
  name VARCHAR(100),
  magic_element VARCHAR(50),
  mana_cost INT,
  cooldown INT,
  effect JSON,
  unlock_level INT DEFAULT 1,
  description TEXT
);
```

---

## ğŸ”„ ç³»ç»Ÿæ¶æ„

### 12.1 å±‚æ¬¡æ¶æ„

```
ç”¨æˆ·ç•Œé¢å±‚
â”œâ”€ ä¸»èœå•
â”œâ”€ ä¸–ç•Œé€‰æ‹©
â”œâ”€ æ¸¸æˆä¸»ç•Œé¢
â”‚  â”œâ”€ å·¨äººä¸–ç•Œè§†å›¾ï¼ˆä¸»è§’è§†è§’ï¼‰
â”‚  â”œâ”€ æ—…è€…ä¹‹æ†©åœ°å›¾
â”‚  â”œâ”€ çƒ¹é¥ªç•Œé¢
â”‚  â”œâ”€ å•†åº—ç•Œé¢
â”‚  â””â”€â”€ ç³»ç»Ÿè®¾ç½®
â”œâ”€ æ—¶é—´ç®¡ç†
â”œâ”€ èŒä¸šé€‰æ‹©
â””â”€ æ²Ÿé€šç³»ç»Ÿ

æ¸¸æˆé€»è¾‘å±‚
â”œâ”€ æ—¶é—´ç³»ç»Ÿ
â”œâ”€â”€ NPCç³»ç»Ÿï¼ˆå·¨äººNPCï¼‰
â”œâ”€â”€ æ²Ÿé€šç³»ç»Ÿï¼ˆå°äººå„¿ä¸å·¨äººï¼‰
â”œâ”€â”€ çƒ¹é¥ªç³»ç»Ÿ
â”œâ”€â”€ ç»è¥ç³»ç»Ÿ
â”œâ”€â”€ æ¢ç´¢ç³»ç»Ÿ
â”œâ”€â”€ é­”æ³•ç³»ç»Ÿ
â””â”€â”€ äº‹ä»¶ç³»ç»Ÿ

æ•°æ®å±‚
â”œâ”€ ç©å®¶æ•°æ®
â”œâ”€â”€ å·¨äººä¸–ç•Œæ•°æ®
â”œâ”€â”€ å·¨äººNPCæ•°æ®
â”œâ”€â”€ ç‰©å“æ•°æ®
â”œâ”€â”€ ä»»åŠ¡æ•°æ®
â””â”€â”€ ç»Ÿè®¡æ•°æ®
```

---

### 12.2 æ ¸å¿ƒç³»ç»Ÿäº¤äº’

```
å·¨äººNPCç³»ç»Ÿ
â”œâ”€ æ‰§è¡Œæ¯æ—¥æ—¥ç¨‹
â”œâ”€â”€ ä¸å…¶ä»–å·¨äººäº’åŠ¨
â”œâ”€â”€ å·å¬å·¨äººå¯¹è¯
â””â”€â”€ å¶å°”æ³¨æ„åˆ°ä½ 

æ²Ÿé€šç³»ç»Ÿ
â”œâ”€ è¯†åˆ«å·¨äººè¡Œä¸º
â”œâ”€â”€ æ£€æµ‹å·¨äººæ˜¯å¦æ³¨æ„åˆ°ä½ 
â”œâ”€â”€ æä¾›äº’åŠ¨é€‰é¡¹
â””â”€â”€ è®°å½•å…³ç³»

æ—¶é—´ç³»ç»Ÿ
â”œâ”€ æ§åˆ¶æ¸¸æˆèŠ‚å¥
â”œâ”€â”€ è§¦å‘å·¨äººNPCæ—¥ç¨‹
â”œâ”€â”€ è§¦å‘å­£èŠ‚å˜åŒ–
â””â”€â”€ è§¦å‘å·¨äººäº‹ä»¶

çƒ¹é¥ªç³»ç»Ÿ
â”œâ”€ æ¶ˆè€—æ—¶é—´
â”œâ”€â”€ æ¶ˆè€—ä½“åŠ›
â”œâ”€â”€ ç”Ÿæˆèœå“
â””â”€â”€ æå‡çƒ¹é¥ªç­‰çº§

ç»è¥ç³»ç»Ÿ
â”œâ”€ æ¶ˆè€—æ—¶é—´
â”œâ”€â”€ å¤„ç†å·¨äººé¡¾å®¢
â”œâ”€â”€ ç”Ÿæˆæ”¶å…¥
â””â”€â”€ æå‡å•†åº—ç­‰çº§

æ¢ç´¢ç³»ç»Ÿ
â”œâ”€ æ¶ˆè€—æ—¶é—´
â”œâ”€â”€ å‘ç°å·¨äººç§˜å¯†
â”œâ”€â”€ æ”¶é›†å·¨äººç‰©å“
â””â”€â”€ è§¦å‘æ¢ç´¢é‡Œç¨‹ç¢‘
```

---

## ğŸ¨ Unity 2D å®ç°æ–¹æ¡ˆ

### 13.1 åœºæ™¯ç»“æ„

```
Scene Structure
â”œâ”€ MainScene
â”‚  â”œâ”€ WorldSpaceï¼ˆå·¨äººä¸–ç•Œï¼‰
â”‚  â”‚  â”œâ”€ Treesï¼ˆå·¨å‹æ ‘æœ¨ï¼‰
â”‚  â”‚  â”œâ”€ Buildingsï¼ˆå·¨å‹å»ºç­‘ï¼‰
â”‚  â”‚  â”œâ”€ NPCsï¼ˆå·¨äººNPCï¼‰
â”‚  â”‚  â”œâ”€ Itemsï¼ˆå·¨äººç‰©å“ï¼‰
â”‚  â”‚  â””â”€â”€ WorldSettingsï¼ˆä¸–ç•Œè®¾ç½®ï¼‰
â”‚  â”‚
â”‚  â”œâ”€ PlayerSpaceï¼ˆä¸»è§’è§†è§’ï¼‰
â”‚  â”‚  â”œâ”€ Playerï¼ˆä¸»è§’ï¼‰
â”‚  â”‚  â”œâ”€ Cameraï¼ˆä¸»è§’ç›¸æœºï¼‰
â”‚  â”‚  â”œâ”€ InteractionZoneï¼ˆäº¤äº’åŒºåŸŸï¼‰
â”‚  â”‚  â””â”€â”€ HUDï¼ˆUIï¼‰
â”‚  â”‚
â”‚  â””â”€ UI
â”‚     â”œâ”€ DialogueBoxï¼ˆå·¨äººå¯¹è¯æ¡†ï¼‰
â”‚     â”œâ”€ MiniMapï¼ˆå°åœ°å›¾ï¼‰
â”‚     â”œâ”€ Inventoryï¼ˆèƒŒåŒ…ï¼‰
â”‚     â””â”€â”€ PauseMenuï¼ˆæš‚åœèœå•ï¼‰

Scene Structure - ElfWorld
â”œâ”€ ElfWorld
â”‚  â”œâ”€ ElfNPCsï¼ˆç²¾çµNPCï¼Œé£ŸæŒ‡å¤§å°ï¼‰
â”‚  â”œâ”€ ElfBuildingsï¼ˆç²¾çµå»ºç­‘ï¼Œé£ŸæŒ‡å¤§å°ï¼‰
â”‚  â”œâ”€ MagicElementsï¼ˆé­”æ³•å…ƒç´ ï¼‰
â”‚  â””â”€â”€ ElfInteractionZoneï¼ˆäº¤äº’åŒºåŸŸï¼‰
```

---

### 13.2 ç›¸æœºç³»ç»Ÿ

```csharp
using UnityEngine;

public class PlayerCamera : MonoBehaviour
{
    public GameObject player;
    public float smoothTime = 0.1f;
    public Vector3 offset = new Vector3(0, 0, -10);

    private Vector3 velocity;

    void Update()
    {
        // å¹³æ»‘è·Ÿéšç©å®¶
        Vector3 targetPosition = player.transform.position + offset;
        transform.position = Vector3.SmoothDamp(
            transform.position,
            targetPosition,
            ref velocity,
            smoothTime
        );

        // ä¿æŒç›¸æœºçœ‹å‘ç©å®¶
        transform.LookAt(player.transform);
    }

    // è¿›å…¥è°·ä»“æ—¶ç¼©å°ç›¸æœº
    public void ZoomInBarn()
    {
        StartCoroutine(ZoomToScale(0.3f));
    }

    // ç¦»å¼€è°·ä»“æ—¶æ¢å¤ç›¸æœº
    public void ZoomOutBarn()
    {
        StartCoroutine(ZoomToScale(1.0f));
    }

    private IEnumerator ZoomToScale(float targetScale)
    {
        float currentScale = transform.localScale.x;
        float speed = (targetScale - currentScale) / 0.5f;

        while (Mathf.Abs(transform.localScale.x - targetScale) > 0.01f)
        {
            float newScale = Mathf.MoveTowards(
                transform.localScale.x,
                targetScale,
                speed * Time.deltaTime
            );
            transform.localScale = new Vector3(newScale, newScale, 1f);
            yield return null;
        }
    }
}
```

---

### 13.3 ç©å®¶æ§åˆ¶

```csharp
using UnityEngine;

public class PlayerController : MonoBehaviour
{
    public float moveSpeed = 3f;
    public float jumpForce = 5f;
    public LayerMask interactableLayer;
    public Transform interactionPoint;

    private Rigidbody2D rb;
    private bool isGrounded;
    private bool canInteract;

    void Start()
    {
        rb = GetComponent<Rigidbody2D>();
    }

    void Update()
    {
        // ç§»åŠ¨
        float moveHorizontal = Input.GetAxis("Horizontal");
        float moveVertical = Input.GetAxis("Vertical");

        Vector3 movement = new Vector3(
            moveHorizontal * moveSpeed,
            moveVertical * moveSpeed,
            0f
        );

        rb.velocity = new Vector2(movement.x, rb.velocity.y);

        // è·³è·ƒ
        if (Input.GetButtonDown("Jump") && isGrounded)
        {
            rb.AddForce(new Vector2(0, jumpForce), ForceMode2D.Impulse);
        }

        // äº¤äº’
        if (Input.GetButtonDown("Interaction"))
        {
            TryInteract();
        }
    }

    void TryInteract()
    {
        Collider2D[] hitColliders = Physics2D.OverlapCircleAll(
            interactionPoint.position,
            1f,
            interactableLayer
        );

        foreach (var hitCollider in hitColliders)
        {
            if (hitCollider.CompareTag("GiantNPC"))
            {
                // æ£€æµ‹å·¨äººæ˜¯å¦æ³¨æ„åˆ°ä½ 
                GiantNPC npc = hitCollider.GetComponent<GiantNPC>();
                if (npc.CanInteract())
                {
                    // é€’ä¸Šå°ç¤¼ç‰©
                    ShowGiftDialog();
                    npc.AcceptGift();
                    IncreaseRelation(npc);
                }
            }
            else if (hitCollider.CompareTag("GiantItem"))
            {
                // æ‹¾å–å·¨äººç‰©å“
                GiantItem item = hitCollider.GetComponent<GiantItem>();
                item.PickUp();
            }
        }
    }

    void OnCollisionEnter2D(Collision2D collision)
    {
        if (collision.gameObject.CompareTag("Ground"))
        {
            isGrounded = true;
        }
    }

    void OnCollisionExit2D(Collision2D collision)
    {
        if (collision.gameObject.CompareTag("Ground"))
        {
            isGrounded = false;
        }
    }

    void IncreaseRelation(GiantNPC npc)
    {
        // å¢åŠ ä¸å·¨äººçš„å…³ç³»
        // æ›´æ–°æ•°æ®åº“
    }
}
```

---

### 13.4 å·¨äººNPCç³»ç»Ÿ

```csharp
using UnityEngine;

public class GiantNPC : MonoBehaviour
{
    public string name;
    public string profession;
    public int age;
    public string[] morningDialogue;
    public string[] afternoonDialogue;
    public string[] eveningDialogue;
    public string[] bestFriendDialogue;

    public int relationLevel = 0;  // ä¸ç©å®¶å…³ç³»

    private bool isPlayerVisible = false;
    private DialogueSystem dialogueSystem;

    void Start()
    {
        dialogueSystem = FindObjectOfType<DialogueSystem>();
    }

    void Update()
    {
        // æ£€æµ‹ç©å®¶æ˜¯å¦åœ¨è§†é‡èŒƒå›´å†…
        DetectPlayer();

        // æ‰§è¡Œæ—¥å¸¸å¯¹è¯
        ExecuteDailyDialogue();
    }

    void DetectPlayer()
    {
        // æ£€æµ‹ç©å®¶æ˜¯å¦åœ¨å·¨äººè§†é‡å†…
        Vector3 playerPosition = FindObjectOfType<PlayerController>().transform.position;
        float distanceToPlayer = Vector3.Distance(transform.position, playerPosition);

        // å¦‚æœç©å®¶åœ¨å·¨äººè§†é‡èŒƒå›´å†…
        if (distanceToPlayer < 5f)
        {
            isPlayerVisible = true;
        }
        else
        {
            isPlayerVisible = false;
        }
    }

    void ExecuteDailyDialogue()
    {
        int currentHour = GetCurrentHour();

        if (isPlayerVisible)
        {
            if (currentHour >= 6 && currentHour < 12)
            {
                if (morningDialogue.Length > 0)
                {
                    ShowDialogue(morningDialogue[Random.Range(0, morningDialogue.Length)]);
                }
            }
            else if (currentHour >= 12 && currentHour < 18)
            {
                if (afternoonDialogue.Length > 0)
                {
                    ShowDialogue(afternoonDialogue[Random.Range(0, afternoonDialogue.Length)]);
                }
            }
            else
            {
                if (eveningDialogue.Length > 0)
                {
                    ShowDialogue(eveningDialogue[Random.Range(0, eveningDialogue.Length)]);
                }
            }
        }
    }

    void ShowDialogue(string dialogue)
    {
        dialogueSystem.ShowDialogue(name, dialogue);
    }

    public bool CanInteract()
    {
        // æ£€æµ‹å·¨äººæ˜¯å¦æ³¨æ„åˆ°ä½ 
        return isPlayerVisible;
    }

    public void AcceptGift()
    {
        // å¢åŠ å…³ç³»åº¦
        relationLevel += 10;
        UpdatePlayerRelation(this);
    }

    public void UpdatePlayerRelation(GiantNPC npc)
    {
        // æ›´æ–°æ•°æ®åº“
        // RecordRelation(npc.name, npc.relationLevel);
    }
}
```

---

### 13.5 å·å¬ç³»ç»Ÿ

```csharp
using UnityEngine;

public class EavesdropSystem : MonoBehaviour
{
    public GiantNPC[] giants;

    public void ListenToGiants()
    {
        foreach (var giant in giants)
        {
            // å·å¬å·¨äººå¯¹è¯
            if (giant.isPlayerVisible)
            {
                // è®°å½•å·å¬åˆ°çš„å¯¹è¯
                string dialogue = giant.GetDailyDialogue();
                RecordEavesdrop(giant.name, dialogue);
            }
        }
    }

    public void RecordEavesdrop(string npcName, string dialogue)
    {
        // è®°å½•å·å¬å†…å®¹åˆ°æ•°æ®åº“
        // å­˜å‚¨åˆ°å·å¬è®°å½•è¡¨
    }

    public void DiscoverSecret(string npcName, string secret)
    {
        // å‘ç°å·¨äººç§˜å¯†
        // å¢åŠ å…³ç³»åº¦
        // è§¦å‘ç‰¹æ®Šäº‹ä»¶
    }
}
```

---

### 13.6 çƒ¹é¥ªç³»ç»Ÿ

```csharp
using UnityEngine;

public class CookingSystem : MonoBehaviour
{
    public Recipe[] recipes;
    public int cookingLevel = 1;

    void Start()
    {
        // åŠ è½½èœè°±
        LoadRecipes();
    }

    void Update()
    {
        if (Input.GetButtonDown("Cook"))
        {
            CookSelectedRecipe();
        }
    }

    void CookSelectedRecipe()
    {
        Recipe recipe = GetSelectedRecipe();
        if (recipe != null)
        {
            StartCoroutine(CookRecipe(recipe));
        }
    }

    private IEnumerator CookRecipe(Recipe recipe)
    {
        // æ˜¾ç¤ºçƒ¹é¥ªè¿›åº¦æ¡
        ShowCookingProgress(recipe);

        // ç­‰å¾…çƒ¹é¥ªæ—¶é—´
        yield return new WaitForSeconds(recipe.cookingTime);

        // ç”Ÿæˆèœå“
        Dish dish = GenerateDish(recipe);

        // æ˜¾ç¤ºç»“æœ
        ShowCookingResult(dish);

        // æå‡çƒ¹é¥ªç­‰çº§
        cookingLevel = Mathf.Min(100, cookingLevel + 1);
        SaveCookingLevel();
    }

    private Dish GenerateDish(Recipe recipe)
    {
        Dish dish = new Dish();
        dish.name = recipe.name;
        dish.quality = CalculateQuality();
        dish.effects = recipe.dishEffects;

        return dish;
    }

    private int CalculateQuality()
    {
        // æ ¹æ®çƒ¹é¥ªç­‰çº§è®¡ç®—è´¨é‡
        return Mathf.FloorToInt((cookingLevel / 100f) * 5);
    }

    private void ShowCookingProgress(Recipe recipe)
    {
        // æ˜¾ç¤ºçƒ¹é¥ªè¿›åº¦æ¡UI
        DialogueSystem.ShowDialogue("çƒ¹é¥ª", $"æ­£åœ¨çƒ¹é¥ªï¼š{recipe.name}...");
    }

    private void ShowCookingResult(Dish dish)
    {
        DialogueSystem.ShowDialogue("å®Œæˆ", $"çƒ¹é¥ªå®Œæˆï¼{dish.name}ï¼ˆå“è´¨ï¼š{dish.quality}/5ï¼‰");
    }
}
```

---

## âœ… åŠŸèƒ½æ£€æŸ¥æ¸…å•

### æ ¸å¿ƒç³»ç»Ÿ
- [x] ä¸»è§’å§‹ç»ˆæ˜¯é£ŸæŒ‡å¤§å°
- [x] ä¸–ç•Œæ˜¯æ­£å¸¸å¤§å°
- [x] ä¸»è§’è§†è§’ï¼ˆç¬¬ä¸€äººç§°ï¼‰
- [x] 1:1 æ¯”ä¾‹
- [x] æ—¶é—´ç³»ç»Ÿ
- [x] NPCç³»ç»Ÿï¼ˆå·¨äººNPCï¼‰
- [x] ç›®æ ‡ç³»ç»Ÿï¼ˆç¤¾åŒºä¸­å¿ƒï¼‰

### å·¨äººä¸–ç•Œ
- [x] çœ å±±æ‘åº„
- [x] ç©å®¶çš„å°å±‹ï¼ˆè°·ä»“å†…ï¼‰
- [x] å°é•‡å¹¿åœº
- [x] ç¤¾åŒºä¸­å¿ƒ
- [x] å·¨å¤§çš„æ£®æ—
- [x] å·¨å¤§çš„æ¹–æ³Š
- [x] å·¨å¤§çš„å±±è„‰
- [x] å·¨å¤§çš„æ²™æ¼ 
- [x] å·¨äººçš„NPC

### å°äººå„¿ç³»ç»Ÿ
- [x] çˆ¬æ ‘
- [x] é’»å°æ´
- [x] è—åœ¨å¤§æ ‘åé¢
- [x] è·³åˆ°å·¨äººè‚©è†€ä¸Š
- [x] å·å¬å·¨äººå¯¹è¯
- [x] é€’é€å°ç¤¼ç‰©
- [x] é—´æ¥æ²Ÿé€š

### çƒ¹é¥ªä¸ç»è¥
- [x] çƒ¹é¥ªç³»ç»Ÿ
- [x] å¼€ç½—ç»è¥ç³»ç»Ÿ

### æ¢ç´¢ä¸é­”æ³•
- [x] æ¢ç´¢ç³»ç»Ÿ
- [x] é­”æ³•ç³»ç»Ÿ

---

## ğŸš€ Unityé¡¹ç›®ç»“æ„

```
Assets/
â”œâ”€ Scenes/
â”‚  â”œâ”€ MainScene.unity (å·¨äººä¸–ç•Œ)
â”‚  â”œâ”€ ElfWorld.unity (ç²¾çµä¸–ç•Œ)
â”‚  â””â”€ MainMenu.unity
â”‚
â”œâ”€ Scripts/
â”‚  â”œâ”€ Player/
â”‚  â”‚  â”œâ”€ PlayerController.cs
â”‚  â”‚  â”œâ”€ PlayerCamera.cs
â”‚  â”‚  â”œâ”€ PlayerInteraction.cs
â”‚  â”‚  â””â”€ PlayerStats.cs
â”‚  â”‚
â”‚  â”œâ”€ GiantNPC/
â”‚  â”‚  â”œâ”€ GiantNPC.cs
â”‚  â”‚  â”œâ”€ DialogueSystem.cs
â”‚  â”‚  â””â”€ EavesdropSystem.cs
â”‚  â”‚
â”‚  â”œâ”€ World/
â”‚  â”‚  â”œâ”€ WorldSettings.cs
â”‚  â”‚  â”œâ”€ GiantEnvironment.cs
â”‚  â”‚  â””â”€ TimeSystem.cs
â”‚  â”‚
â”‚  â”œâ”€ Cooking/
â”‚  â”‚  â”œâ”€ CookingSystem.cs
â”‚  â”‚  â”œâ”€ Recipe.cs
â”‚  â”‚  â””â”€ Dish.cs
â”‚  â”‚
â”‚  â”œâ”€ Shop/
â”‚  â”‚  â”œâ”€ ShopSystem.cs
â”‚  â”‚  â”œâ”€ ShopController.cs
â”‚  â”‚  â””â”€â”€ Customer.cs
â”‚  â”‚
â”‚  â”œâ”€ Exploration/
â”‚  â”‚  â”œâ”€ ExplorationSystem.cs
â”‚  â”‚  â”œâ”€ ExplorationArea.cs
â”‚  â”‚  â””â”€â”€ ExplorationMilestone.cs
â”‚  â”‚
â”‚  â”œâ”€ Magic/
â”‚  â”‚  â”œâ”€ MagicSystem.cs
â”‚  â”‚  â””â”€â”€ Spell.cs
â”‚  â”‚
â”‚  â””â”€ UI/
â”‚     â”œâ”€ DialogueUI.cs
â”‚     â”œâ”€ CookingUI.cs
â”‚     â””â”€â”€ ShopUI.cs
â”‚
â”œâ”€ Prefabs/
â”‚  â”œâ”€ Player.prefab
â”‚  â”œâ”€ GiantNPC.prefab
â”‚  â”œâ”€ GiantTree.prefab
â”‚  â””â”€â”€ ...
â”‚
â”œâ”€ Sprites/
â”‚  â”œâ”€ Player/
â”‚  â”œâ”€ NPCs/
â”‚  â”œâ”€ Environment/
â”‚  â””â”€â”€ Items/
â”‚
â””â”€ Database/
   â””â”€ SaveSystem.cs
```

---

## ğŸ¨ è§†è§‰è®¾è®¡

### 14.1 åƒç´ å¤å¤é£æ ¼
```
è§’è‰²è®¾è®¡
â”œâ”€ ä¸»è§’ï¼šåƒç´ å°äººå„¿ï¼ˆé£ŸæŒ‡å¤§å°ï¼‰
â”œâ”€â”€ å·¨äººNPCï¼šæ­£å¸¸å¤§å°åƒç´ å·¨äºº
â”œâ”€â”€ ç¯å¢ƒç‰©å“ï¼šå·¨å¤§åƒç´ ç‰©å“
â””â”€â”€ ç”»é¢æ¯”ä¾‹ï¼š16:9ï¼ˆæ­£å¸¸æ¯”ä¾‹ï¼‰

è‰²å½©æ–¹æ¡ˆ
â”œâ”€ äººç±»ä¸–ç•Œï¼šæ¸©é¦¨æ˜äº®
â”œâ”€â”€ ç²¾çµä¸–ç•Œï¼šæ¢¦å¹»è§å…‰
â””â”€â”€ å¯¹æ¯”å¼ºçƒˆ
```

### 14.2 UIè®¾è®¡
```
æ¸¸æˆUI
â”œâ”€ ä¸»è§’è§†è§’
â”‚  â”œâ”€ å¯¹è¯æ¡†ï¼ˆèƒ½å¬åˆ°å·¨äººå¯¹è¯ï¼‰
â”‚  â”œâ”€ ç‰©å“æ 
â”‚  â”œâ”€ çŠ¶æ€æ ï¼ˆä½“åŠ›ã€é‡‘é’±ï¼‰
â”‚  â””â”€â”€ å°åœ°å›¾
â”‚
â””â”€ è°·ä»“å†…UI
   â”œâ”€ ä¼‘æ¯èœå•
   â”œâ”€ å·¥ä½œå°
   â””â”€â”€ æ²Ÿé€šæŒ‰é’®
```

---

## ğŸŒŸ æ ¸å¿ƒä»·å€¼

### 1. å°äººå„¿æ¢é™©ä½“éªŒ
- ğŸ® **å®Œå…¨æ²‰æµ¸å¼** - ç¬¬ä¸€äººç§°ä¸»è§’è§†è§’
- ğŸŒ² **æ¢ç´¢æ„Ÿå¼º** - å·¨å¤§çš„ä¸–ç•Œï¼Œæ— é™å¯èƒ½
- ğŸ¯ **éšè—å†…å®¹** - å·¨äººçœ‹ä¸åˆ°çš„ç»†èŠ‚
- ğŸ˜„ **è¶£å‘³äº’åŠ¨** - ä¸å·¨äººçš„é—´æ¥æ²Ÿé€š

### 2. æ·±åº¦NPCç³»ç»Ÿ
- ğŸ‘¤ **å·¨äººNPC** - æœ‰è¡€æœ‰è‚‰çš„å·¨äºº
- ğŸ—£ï¸ **å·å¬å¯¹è¯** - å‘ç°å·¨äººçš„ç§˜å¯†
- ğŸ **ç¤¼ç‰©äº’åŠ¨** - é€’ä¸Šå°ç¤¼ç‰©
- ğŸ¤ **é—´æ¥å…³ç³»** - å·¨äººä¸çŸ¥é“ä½ æ˜¯è°ï¼Œä½†è®°å¾—ä½ 

### 3. å¤šé‡ç©æ³•èåˆ
- ğŸŒ¾ ç§ç”° + ğŸ‘¨â€ğŸ³ çƒ¹é¥ª + ğŸª ç»è¥ + ğŸ” æ¢ç´¢
- ğŸŒ åŒä¸–ç•Œï¼ˆå·¨äººä¸–ç•Œ + ç²¾çµä¸–ç•Œï¼‰
- âš¡ é­”æ³•ç³»ç»Ÿ
- ğŸ“– æ·±åº¦å™äº‹

---

**æ ¸å¿ƒæ€æƒ³ï¼š** ä¸»è§’å§‹ç»ˆæ˜¯é£ŸæŒ‡å¤§å°ï¼Œåœ¨æ­£å¸¸ä¸–ç•Œé‡Œæ¢é™©ï¼Œåƒç©çœŸäººç‰ˆã€Šå¡å°”è¾¾ï¼šè’é‡ä¹‹æ¯ã€‹å°äººæ¨¡å¼ï¼Œä¸å·¨äººNPCé—´æ¥äº’åŠ¨ï¼Œå‘ç°å·¨äººçš„ç§˜å¯†ã€‚

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv3.0*
*å¼•æ“ï¼šUnity 2D*
*æœ€åæ›´æ–°ï¼š2026-02-02*
